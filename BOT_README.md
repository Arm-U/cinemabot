# BOT_README.md

## Cinemabot

Это бот для Telegram, названный "Кино в большом городе" ([@arman_cinema_bot](https://t.me/arman_cinema_bot)), который предоставляет информацию о фильмах и телесериалах. Ниже представлены основные функции и возможности бота:

### Возможности:

1. Команда Начала (/start):
   - Приветствует пользователей в боте "Кино в большом городе".
   - Дает краткое введение в возможности бота.

2. Команда Помощи (/help):
   - Предоставляет руководство по использованию бота.
   - Содержит информацию о доступных командах и том, как искать информацию о фильмах и телесериалах.

3. Команда Поиска (Название фильма/телесериала):
   - Пользователи могут искать информацию о фильмах и телесериалах, введя название желаемого фильма или шоу непосредственно в чате.
   - Бот извлекает соответствующие детали, такие как название, рейтинг, описание и ссылку для просмотра.

4. Команда Истории (/history):
   - Показывает историю поиска пользователя, включая метки времени и названия фильмов/телесериалов.

5. Команда Статистики (/stats):
   - Предоставляет статистику по самым популярным фильмам или телесериалам, указывая количество запросов для каждого.

### Архитектура бота:

- Структура программы:
  - файл main.py запускает бота и передает полученный запрос классу TelegramBot.
  - класс TelegramBot - это главный класс для асинхронной работы с запросами пользователя. Данный класс обращается к классам DataBase и FilmSearch для получения нужной информации. Например, на запрос поиска данный класс обращается к классу FilmSearch и получает в ответ данные о фильме, а затем полученные данные логирует в базе данных с помощью класса DataBase и отправляет информацию о фильме/сериале пользователю.
  - класс FilmSearch - это класс для получения информации о фильме/сериале. Класс использует [нефициальное API Кинопоиска](https://kinopoiskapiunofficial.tech/) для получения нужных данных.
  - класс DataBase - это класс для работы с базой данных с помощью sqlite3, который логирует поисковые запросы пользователя и отправляет нужную информацию для команд /history и /stats. В самом файле, где расположен данный класс, написаны нужные селекты, которые запускаются через execute.
  - файл helper_classes.py содержит вспомогательные датаклассы для облегчения взаимодействия между классами. В данном файле есть класс Film - требуемые данные о фильме/сериале, и класс LogItem - нужные данные для работы с бд.

- Асинхронная структура:
  - Использует библиотеку aiogram для асинхронного взаимодействия с API Telegram.
  - Применяет aiohttp для обработки асинхронных HTTP-запросов.

- Работа с данными:
  - Получает информацию о фильмах и телесериалах с использованием неофициального API Кинопоиска.
  - Использует библиотеку sqlite3 для работы с бд.

### Загрузка на сервер:

Создал docker image на основе этого проекта. Затем загрузил его на dockerhub. Потом на своем сервере запустил контейнер на основе данного docker image-а.

### P.S.
Наслаждайтесь использованием "Кино в большом городе"! Если у вас возникнут вопросы или проблемы, воспользуйтесь командой /help для получения справки.